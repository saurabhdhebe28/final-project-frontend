<div class="right">
  <div class="assign">
    <form class="form-inline" (ngSubmit)="search()">
      <div class="form-group mr-2">
        <label for="userId">User ID</label>
        <input type="text" class="form-control" placeholder="Enter User ID" name="userId" [(ngModel)]="userId" />
      </div>
      <div class="form-group mr-2">
        <label for="offerId">Voucher ID</label>
        <input type="text" class="form-control" placeholder="Enter Voucher ID" name="voucherId"
          [(ngModel)]="voucherId" />
      </div>
    </form>
    <button class="btn btn-primary" [disabled]="!userId || !voucherId" (click)="purchase()">
      Assign
    </button>
  </div>
  <div class="search">
    <form class="form-inline" (ngSubmit)="search()">
      <div class="form-group mr-2">
        <label for="firstName">First Name</label>
        <input type="text" class="form-control" placeholder="Enter First Name" name="firstName" [(ngModel)]="firstName"
          (keyup)="inp()" />
      </div>
      <div class="form-group mr-2">
        <label for="lastName">Last Name</label>
        <input type="text" class="form-control" placeholder="Enter last Name" name="lastName" [(ngModel)]="lastName"
          (keyup)="inp()" />
      </div>
      <div class="form-group mr-2">
        <label for="voucherCode">Voucher Code</label>
        <input type="text" class="form-control" placeholder="Enter voucher code" name="voucherCode"
          [(ngModel)]="voucherCode" (keyup)="inp()" />
      </div>
      <div class="form-group mr-2">
        <label for="merchant">Merchant</label>
        <input type="text" class="form-control" placeholder="Enter Merchant" name="merchant" [(ngModel)]="merchant"
          (keyup)="inp()" />
      </div>
      <div class="form-group mr-2">
        <label for="brand">Brand</label>
        <input type="text" class="form-control" placeholder="Enter Brand" name="brand" [(ngModel)]="brand"
          (keyup)="inp()" />
      </div>
    </form>
    <div>
      <button class="searchbtn btn btn-primary" [disabled]="
          !firstName && !lastName && !voucherCode && !merchant && !brand
        " (click)="search()">
        Search
      </button>
      <button class="searchbtn btn btn-dark" (click)="ngOnInit()">Reset</button>
    </div>
  </div>
  <br />
  <br />
  <div class="table">
    <table *ngIf="searchData && searchData.length != 0" class="table-primary">
      <thead class="thead-dark">
        <tr>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Voucher Code</th>
          <th scope="col">Merchant</th>
          <th scope="col">Brand</th>
          <th scope="col">Voucher Title</th>
          <th scope="col">Expiry Date</th>
          <th scope="col">Terms & Conditions</th>
          <th scope="col">Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="
            let value of searchData
              | paginate
                : {
                    itemsPerPage: itemsPerPage,
                    currentPage: currentPage,
                    totalItems: totalItem
                  };
            let i = index
          ">
          <td>{{ value.firstName }}</td>
          <td>{{ value.lastName }}</td>
          <td>{{ value.voucherCode }}</td>
          <td>{{ value.merchants }}</td>
          <td>{{ value.brands }}</td>
          <td>{{ value.voucherTitle }}</td>
          <td>{{ value.voucherExpiryDate }}</td>
          <td>{{ value.termsAndConditions }}</td>
          <td (click)="redeem(value.purchase_voucher_id)" *ngIf="value.status == 'Available'">
            <button class="redeem">Redeem</button>
          </td>
          <td *ngIf="value.status == 'Unavailable'">
            <button disabled class="btn btn-dark">Redeemed</button>
          </td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="!(searchData && searchData.length > 0)">
      <p>No data available.</p>
    </div>
  </div>
  <div *ngIf="!(searchData && searchData.length > 0)" class="dataNotFound">
    <div class="alert alert-danger text-center" role="alert">
      Data Not Found
    </div>
  </div>
  <br>
  <div class="sticky-bottom d-flex justify-content-center align-items-center">
    <pagination-controls (pageChange)=" onPageChange($event)"></pagination-controls>
  </div>