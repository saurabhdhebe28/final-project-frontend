<form [formGroup]="voucherForm" action="">
  <div>
    <label for="voucherTitle">Voucher Title<span>*</span></label>
    <input
    #voucherTitle
      (keyup)="getData('voucherTitle')"
      type="text"
      [(ngModel)]="inpValue.voucherTitle"
      formControlName="voucherTitle"
      placeholder="Please enter title for the voucher"
    />
    <small *ngIf="error.voucherTitle">Voucher title is required</small>
  </div>

  <div>
    <label for="voucherImage">Voucher Image <span>*</span></label>
    <input
    #voucherImage
      type="file"
      [(ngModel)]="inpValue.voucherImage"
      formControlName="voucherImage"
      (ngModelChange)="getData('voucherImage')"
      (change)="file($event)"
    />
    <small *ngIf="error.voucherImage?.required && details?.voucherImage?.touched">Voucher Image is required</small>
    <small *ngIf="error.voucherImage?.image && details?.voucherImage?.touched">Invalid file type (only JPEG, PNG and JPG are allowed)</small>
    <small *ngIf="error.voucherImage?.size && details?.voucherImage?.touched">Max Size 500KB allowed</small>
  </div>


  
  <div>
    <label for="pointRate">Point Rate<span>*</span></label>
    <input
    #pointRate
      type="text"
      (keyup)="getData('pointRate')"
      formControlName="pointRate"
      placeholder="Please enter points"
      [(ngModel)]="inpValue.pointRate"
    />
    <small *ngIf="error.pointRate?.required">Enter points </small>
    <small *ngIf="error.pointRate?.pattern">Enter Numbers Only  </small>
  </div>

  
  <div>
    <label for="Merchant">Merchant <span>*</span></label>
    <select
      formControlName="merchant"
      [(ngModel)]="inpValue.merchant"
      (ngModelChange)="getData('merchant')"
      name="Merchant"
      id="Merchant"
    >
      <option selected disabled value="">Select</option>
      <option *ngFor="let Merchant of merchants" value="{{ Merchant }}">
        {{ Merchant }}
      </option>
    </select>
    <small *ngIf="error.merchant && details?.merchant?.touched">Select Merchant </small>
  </div>

  <div>
    <label for="brands">Brands <span>*</span></label>
    <select
      formControlName="brands"
      [(ngModel)]="inpValue.brands"
      (ngModelChange)="getData('brands')"
      name="brands"
      id="brands"
    >
      <option disabled selected value="">Select</option>
      <option *ngFor="let Brand of Brands" value="{{ Brand }}">
        {{ Brand }}
      </option>
    </select>
    <small *ngIf="error.brands && details?.brands?.touched">Select Merchant </small>
  </div>

  <div>
    <label for="denominationStep">Denomination Step <span>*</span></label>
    <input
    #denominationStep
      type="text"
      (keyup)="getData('denominationStep')"
      formControlName="denominationStep"
      [(ngModel)]="inpValue.denominationStep"
      placeholder="Please denomination step"
    />
    <small *ngIf="error.denominationStep">Enter denomination step </small>
  </div>

  <div>
    <label for="denominationStart">Denomination Start <span>*</span></label>
    <input
    #denominationStart
      type="text"
      (keyup)="getData('denominationStart')"
      formControlName="denominationStart"
      [(ngModel)]="inpValue.denominationStart"
      placeholder="Please denomination start"
    />
    <small *ngIf="error.denominationStart">Enter denomination start </small>
  </div>

  <div>
    <label for="denominationEnd">Denomination End <span>*</span></label>
    <input
    #denominationEnd
      type="text"
      (keyup)="getData('denominationEnd')"
      formControlName="denominationEnd"
      [(ngModel)]="inpValue.denominationEnd"
      placeholder="Please enter denomination end"
    />
    <small *ngIf="error.denominationEnd">Enter denomination end </small>
  </div>

  <div>
    <label for="voucherExpiryDate">Voucher Expiry Date <span>*</span></label>
    <input
    #voucherExpiryDate
      type="date"
      (keyup)="getData('voucherExpiryDate')"
      (blur)="checkDate()"
      [(ngModel)]="inpValue.voucherExpiryDate"
      formControlName="voucherExpiryDate"
      [min]="minDate"
    />

    <small *ngIf="error.voucherExpiryDate?.required && details?.voucherExpiryDate?.touched">Please Select Date </small>
    <small *ngIf="error.voucherExpiryDate?.date && details?.voucherExpiryDate?.touched">Please Select valid Date </small>  </div>

  <div>
    <label for="voucherCode">Voucher code <span>*</span></label>
    <input
    #voucherCode
      type="text"
      (keyup)="getData('voucherCode')"
      formControlName="voucherCode"
      [(ngModel)]="inpValue.voucherCode"
      placeholder="Please enter voucher code"
    />
    <small *ngIf="error.voucherCode?.required">Enter voucher code </small>
    <small *ngIf="error.voucherCode?.maxlength">max 10 characters allowed</small>
  </div>

  <div>
    <label for="termsAndConditions">Terms and Conditions<span>*</span></label>
    <textarea
      #offerExpiryDate
      type="text"
      [(ngModel)]="inpValue.termsAndConditions"
      (ngModelChange)="getData('termsAndConditions')"
      formControlName="termsAndConditions"
    ></textarea>
    <small *ngIf="error.termsAndConditions  && details?.termsAndConditions?.touched">Write terms and conditions </small>
  </div>

</form>
<div>
  <button (click)="createVoucher()" [disabled]="details.errors">
    Create Voucher
  </button>
</div>
